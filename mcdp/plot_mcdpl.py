import numpy as np
import matplotlib.pyplot as plt
import time

plt.rcParams['font.sans-serif'] = ['STZhongsong']
plt.rcParams['axes.unicode_minus'] = False
plt.rcParams['figure.dpi'] = 300
plt.figure(figsize=(15, 8))

udpl = 2.5
lalist = [0.26, 0.19, 0.3, 0.41, 0.43, 0.37, 0.35, 0.44, 0.33, 0.17, 0.28, 0.08]
eps = []

for la in lalist:
    eps.append(-np.log(1/udpl * (1+la/2)))



BPL=[]
FPL=[]
TPL=[]

bpl1 = [2.5, 2.5, 2.5, 2.5, 2.5, 2.5, 2.5, 2.5, 2.5, 2.5, 2.5, 2.5]
fpl1= [2.5, 2.5, 2.5, 2.5, 2.5, 2.5, 2.5, 2.5, 2.5, 2.5, 2.5, 2.5]
tpl1= [2.5, 2.5, 2.5, 2.5, 2.5, 2.5, 2.5, 2.5, 2.5, 2.5, 2.5, 2.5]

bpl2= [2.5, 3.145, 3.116, 3.131, 3.116, 3.131, 3.116, 3.131, 3.116, 3.131, 3.116, 3.131]
fpl2= [3.219, 3.258, 3.327, 3.279, 3.179, 3.219, 3.258, 3.327, 3.279, 3.183, 3.301, 2.5]
tpl2=[3.2189999999999994, 3.9030000000000005, 3.9429999999999996, 3.91, 3.795, 3.8499999999999996, 3.8740000000000006, 3.958, 3.8949999999999996, 3.814, 3.917, 3.1310000000000002]

bpl3= [2.5, 3.788, 3.828, 3.828, 3.828, 3.828, 3.828, 3.828, 3.828, 3.828, 3.828, 3.828]
fpl3= [3.617, 3.617, 3.617, 3.617, 3.617, 3.617, 3.617, 3.617, 3.617, 3.617, 3.587, 2.5]
tpl3= [3.617, 4.904999999999999, 4.945, 4.945, 4.945, 4.945, 4.945, 4.945, 4.945, 4.945, 4.915, 3.8279999999999994]

bpl4= [2.5, 5.307, 5.439, 5.439, 5.439, 5.439, 5.439, 5.439, 5.439, 5.439, 5.439, 5.439]
fpl4= [4.798, 4.798, 4.798, 4.798, 4.798, 4.798, 4.798, 4.798, 4.798, 4.803, 4.732, 2.5]
tpl4=[4.798, 7.605, 7.737, 7.737, 7.737, 7.737, 7.737, 7.737, 7.737, 7.742000000000001, 7.670999999999999, 5.439]

bpl5 =[2.5, 8.618, 8.659, 8.655, 8.655, 8.655, 8.655, 8.655, 8.655, 8.655, 8.655, 8.655]
fpl5= [9.987, 9.987, 9.987, 9.987, 9.987, 9.987, 9.987, 9.987, 9.987, 9.987, 9.983, 2.5]
tpl5=[9.987, 16.105, 16.146, 16.142, 16.142, 16.142, 16.142, 16.142, 16.142, 16.142, 16.137999999999998, 8.655]

bpl6= [2.5, 13.443, 18.594, 23.745, 28.896, 34.047, 39.198, 44.349, 49.5, 54.651, 59.802, 64.953]
fpl6= [12.199, 12.199, 12.199, 12.199, 12.199, 12.199, 12.199, 12.199, 12.199, 12.193, 10.993, 2.5]
tpl6= [12.199, 23.142, 28.293, 33.444, 38.595, 43.745999999999995, 48.897, 54.047999999999995, 59.199, 64.34400000000001, 68.295, 64.953]


BPL.append(bpl1)
FPL.append(fpl1)
TPL.append(tpl1)


BPL.append(bpl2)
FPL.append(fpl2)
TPL.append(tpl2)

BPL.append(bpl3)
FPL.append(fpl3)
TPL.append(tpl3)

BPL.append(bpl4)
FPL.append(fpl4)
TPL.append(tpl4)

BPL.append(bpl5)
FPL.append(fpl5)
TPL.append(tpl5)

BPL.append(bpl6)
FPL.append(fpl6)
TPL.append(tpl6)


s = [0, 0.5, 1, 2 ,3, 4]
for k in range(len(s)):
    bpl=BPL[k]
    fpl=FPL[k]
    tpl=TPL[k]
    plt.subplot(2,3,k+1)
    plt.plot(bpl, marker='^', label = '$MCBPL_t$')
    plt.plot(fpl, marker='s', label = '$MCFPL_t$')
    plt.plot([udpl for i in range(12)], marker='*', label = '$UDPL_t$')

    plt.plot(tpl, marker='o', label = '$MCDPL_t$')
    plt.plot(eps, marker='X', label = '$\epsilon_t$')


    plt.title("$s^2=$" + str(s[k]) +", $max(MCDPL)=$" + str(round(max(tpl),2)))
    plt.xlabel("时间段 (t)")
    plt.ylabel("隐私泄露")
    plt.legend(loc=4)
    plt.tight_layout()
plt.show()
