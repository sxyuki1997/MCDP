import numpy as np
import matplotlib.pyplot as plt
import time

plt.rcParams['font.sans-serif'] = ['STZhongsong']
plt.rcParams['axes.unicode_minus'] = False
plt.rcParams['figure.dpi'] = 300
plt.figure(figsize=(15, 8))

udpl = 3.25
lalist = [0.26, 0.19, 0.3, 0.41, 0.43, 0.37, 0.35, 0.44, 0.33, 0.17, 0.28, 0.08]
BPL= [[3.25, 3.25, 3.25, 3.25, 3.25, 3.25, 3.25, 3.25, 3.25, 3.25, 3.25, 3.25], [3.25, 3.91, 3.89, 3.91, 3.89, 3.91, 3.89, 3.91, 3.89, 3.91, 3.89, 3.91], [3.25, 4.49, 4.43, 4.43, 4.43, 4.43, 4.43, 4.43, 4.43, 4.43, 4.43, 4.43], [3.25, 5.97, 6.01, 6.01, 6.01, 6.01, 6.01, 6.01, 6.01, 6.01, 6.01, 6.01]]
FPL= [[3.25, 3.25, 3.25, 3.25, 3.25, 3.25, 3.25, 3.25, 3.25, 3.25, 3.25, 3.25], [3.93, 3.93, 3.93, 3.93, 3.93, 3.93, 3.93, 3.93, 3.93, 3.97, 3.94, 3.25], [4.34, 4.34, 4.34, 4.34, 4.34, 4.34, 4.34, 4.34, 4.34, 4.34, 4.37, 3.25], [5.82, 5.82, 5.82, 5.82, 5.82, 5.82, 5.82, 5.82, 5.82, 5.82, 5.79, 3.25]]
TPL= [[3.25, 3.25, 3.25, 3.25, 3.25, 3.25, 3.25, 3.25, 3.25, 3.25, 3.25, 3.25], [3.9299999999999997, 4.59, 4.57, 4.59, 4.57, 4.59, 4.57, 4.59, 4.57, 4.630000000000001, 4.58, 3.91], [4.34, 5.58, 5.52, 5.52, 5.52, 5.52, 5.52, 5.52, 5.52, 5.52, 5.550000000000001, 4.43], [5.82, 8.54, 8.58, 8.58, 8.58, 8.58, 8.58, 8.58, 8.58, 8.58, 8.55, 6.01]]
bpl3= [3.25, 11.33, 11.63, 11.63, 11.63, 11.63, 11.63, 11.63, 11.63, 11.63, 11.63, 11.63]
fpl3= [12.35, 12.35, 12.35, 12.35, 12.35, 12.35, 12.35, 12.35, 12.35, 12.35, 11.11, 3.25]
tpl3=[12.35, 20.43, 20.73, 20.73, 20.73, 20.73, 20.73, 20.73, 20.73, 20.73, 19.490000000000002, 11.63]
bpl4= [3.25, 13.72, 22.08, 30.44, 38.8, 47.16, 55.52, 63.88, 72.24, 80.6, 88.96, 97.32]
fpl4= [72.16, 66.27, 60.38, 54.49, 48.6, 42.71, 36.82, 30.92, 25.02, 19.12, 13.22, 3.25]
tpl4= [72.16, 76.74, 79.21000000000001, 81.68, 84.15, 86.62, 89.09, 91.55000000000001, 94.00999999999999, 96.47, 98.92999999999999, 97.32]
eps = []

for la in lalist:
    eps.append(-np.log(1/udpl * (1+la/2)))



BPL.append(bpl3)
FPL.append(fpl3)
TPL.append(tpl3)

BPL.append(bpl4)
FPL.append(fpl4)
TPL.append(tpl4)

s = [0, 0.5, 1, 2 ,3, 4]
for k in range(len(s)):
    bpl=BPL[k]
    fpl=FPL[k]
    tpl=TPL[k]
    plt.subplot(2,3,k+1)
    plt.plot(bpl, marker='^', label = '$MCBPL_t$')
    plt.plot(fpl, marker='s', label = '$MCFPL_t$')
    plt.plot([udpl for i in range(12)], marker='*', label = '$UDPL_t$')

    plt.plot(tpl, marker='o', label = '$MCDPL_t$')
    plt.plot(eps, marker='X', label = '$\epsilon_t$')


    plt.title("$s^2=$" + str(s[k]) +", $max(MCDPL)=$" + str(round(max(tpl),2)))
    plt.xlabel("时间段 (t)")
    plt.ylabel("隐私泄露")
    plt.legend(loc=4)
    plt.tight_layout()
plt.show()
